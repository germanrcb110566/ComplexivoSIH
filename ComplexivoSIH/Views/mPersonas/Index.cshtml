@model IEnumerable<ComplexivoSIH.Models.mPersona>

@{
    ViewBag.Title = "Sistema Hospitalario En Línea";
    Layout = ViewBag.layout;
}

<div id="caja">
    <div id="texto-left" style="color: blue; height:50px" class="alert alert-@ViewBag.alerta">- - <b>@ViewBag.msgmodulo</b> - -</div>
    <div id="texto-rigth" style="color: black; height:50px" class="alert alert-@ViewBag.alerta">@ViewBag.acceso</div>
</div>
<br />
<br />
<br />

<p>
    @Html.ActionLink("Crear Nuevo Registro", "Create", new { }, new { @class = "btn btn-info" }) |
    <input onclick="jsInactivo(1);" type="button" value="Ver Todos los Registros" class="btn btn-info" /> |
    <input onclick="jsSoloInactivo(2);" type="button" value="Ver Solo Inactivos" class="btn btn-info" /> |
    <input onclick="jsActivos(3);" type="button" value="Ver Solo Activos" class="btn btn-info" />
</p>
<table id="Tablas" class="table table-striped table-bordered" style="width:80%">
    <thead>    
        <tr>
            <th>
               Tipo Ident
            </th>
            <th>
                @Html.DisplayNameFor(model => model.identificacion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.nombres)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.apellidos)
            </th>
            @*<th>
                @Html.DisplayNameFor(model => model.direccion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.telefono)
            </th>*@
            <th>
                @Html.DisplayNameFor(model => model.celular)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.fecha_nacimiento)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.correo_electronico)
            </th>
            @*<th>
                @Html.DisplayNameFor(model => model.clave)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.estado)
            </th>*@

            <th>
                GENERO
            </th>
            <th>
                CIUDAD
            </th>
            <th>
                NACIÓN
            </th>
            <th></th>
        </tr>
        </thead>
            @foreach (var item in Model)
            {
<tr>
            <td>
                @Html.DisplayFor(modelItem => item.Catalogo.nombre)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.identificacion)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.nombres)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.apellidos)
            </td>
            @*<td>
                @Html.DisplayFor(modelItem => item.direccion)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.telefono)
            </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.celular)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.fecha_nacimiento)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.correo_electronico)
            </td>
            @*<td>
                @Html.DisplayFor(modelItem => item.clave)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.estado)
            </td>*@

            <td>
                @Html.DisplayFor(modelItem => item.Catalogo1.nombre)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Catalogo2.nombre)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Catalogo3.nombre)
            </td>
            <td>
                @Html.ActionLink("Editar", "Edit", new { id = item.persona_id }, new { @class = "btn btn-primary" }) |
                @*@Html.ActionLink("Detalles", "Details", new { id = item.persona_id }, new { @class = "btn btn-info" }) |*@
                @Html.ActionLink("Eliminar", "Delete", new { id = item.persona_id }, new { @class = "btn btn-danger" })
            </td>
</tr>
            }

        </table>
        <br />
        <br />
        <br />

        <div id="msgerror" style="color: blue; height:50px" class="alert alert-@ViewBag.alerta"><b>@ViewBag.error</b></div>
        <script>
    function jsInactivo(id) {
        url = "@Url.Content("~/mPersonas/Inactivos")" + "/" + id;
            $.post(url, function (data){
                if (data == "1") {
                    document.location.href = "@Url.Content("~/mPersonas/Index/1")"
                }
            })

    }
        function jsSoloInactivo(id) {
            url = "@Url.Content("~/mPersonas/Inactivos")" + "/" + id;
            $.post(url, function (data){
                if (data == "2") {
                    document.location.href = "@Url.Content("~/mPersonas/Index/2")"
                }
            })

    }
        function jsActivos(id) {
            url = "@Url.Content("~/mPersonas/Inactivos")" + "/" + id;
            $.post(url, function (data){
                if (data == "3") {
                    document.location.href = "@Url.Content("~/mPersonas/Index")"
                }
            })
    }
        </script>
